<div class="container-fluid">
  <div class="d-flex align-items-center mb-4">
      <button class="btn btn-outline-secondary me-3" routerLink="/employes" title="Retour à la liste">
          <i class="ph-arrow-left"></i>
      </button>
      <h2 class="display-6 fw-bold text-dark mb-0">Créer un Nouvel Employé</h2>
  </div>

  <div class="card shadow-sm">
      <div class="card-body p-4">
          <form (ngSubmit)="onSubmit()" #employeForm="ngForm">
              <div class="row g-4">
                  <!-- Champ Nom -->
                  <div class="col-md-6">
                      <label for="nom" class="form-label">Nom Complet</label>
                      <input type="text" id="nom" name="nom" class="form-control" 
                             [(ngModel)]="newEmploye.nom" required #nom="ngModel">
                  </div>
                  <!-- Champ Identifiant -->
                  <div class="col-md-6">
                      <label for="identifiant" class="form-label">Identifiant de Connexion</label>
                      <input type="text" id="identifiant" name="identifiant" class="form-control" 
                             [(ngModel)]="newEmploye.identifiantConnexion" required #identifiant="ngModel">
                  </div>
                  <!-- Champ Rôle -->
                  <div class="col-12">
                    <label class="form-label">Rôles</label>
                    <div class="d-flex flex-wrap gap-3 border p-3 rounded">
                        <div class="form-check" *ngFor="let role of availableRoles">
                            <input class="form-check-input" type="checkbox" [value]="role.id" 
                                   [id]="'role-' + role.id" (change)="onRoleChange(role.id, $event)">
                            <label class="form-check-label" [for]="'role-' + role.id">
                                {{ role.name }}
                            </label>
                        </div>
                    </div>
                </div>
                  <!-- Champ Mot de Passe -->
                  <div class="col-md-6">
                      <label for="password" class="form-label">Mot de Passe</label>
                      <input type="password" id="password" name="password" class="form-control" 
                             [(ngModel)]="newEmploye.motDePasse" required #password="ngModel">
                  </div>
                  <!-- Champ URL Photo (Optionnel) -->
                  <div class="col-12">
                      <label for="photoUrl" class="form-label">URL de la Photo (Optionnel)</label>
                      <input type="text" id="photoUrl" name="photoUrl" class="form-control" 
                             [(ngModel)]="newEmploye.photoUrl">
                  </div>
              </div>

              <!-- Message d'erreur -->
              <div *ngIf="errorMessage" class="alert alert-danger mt-4">
                  {{ errorMessage }}
              </div>

              <!-- Boutons d'action -->
              <div class="d-flex justify-content-end mt-4">
                  <button type="button" class="btn btn-secondary me-2" routerLink="/employes">Annuler</button>
                  <button type="submit" class="btn text-white" [disabled]="employeForm.invalid" style="background-color: var(--bpm-green);">Créer l'Employé</button>
              </div>
          </form>
      </div>
  </div>
</div>